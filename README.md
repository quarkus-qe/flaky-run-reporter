# Quarkus QE Flaky Run Reporter
This is Maven extensions that accepts build reporter generated by the https://github.com/quarkusio/build-reporter and SureFire / FailSafe reports and creates flaky run reports.

## Generate flaky run report
Add Maven extension to your POM file:

```xml
<build>
    <extensions>
        <extension>
            <groupId>io.quarkus.bot</groupId>
            <artifactId>build-reporter-maven-extension</artifactId>
            <version>${build-reporter-maven-extension.version}</version>
        </extension>
        <extension>
            <groupId>io.quarkus.qe</groupId>
            <artifactId>flaky-run-reporter</artifactId>
            <version>${flaky-run-reporter.version}</version>
        </extension>
    </extensions>
</build>
```

## Generate summary of multiple flaky run reports
You may want to summarize past flaky run reports into one report:

```bash
jbang trust add https://raw.githubusercontent.com/quarkus-qe/flaky-run-reporter
jbang https://raw.githubusercontent.com/quarkus-qe/flaky-run-reporter/main/jbang-scripts/FlakyTestRunSummarizer.java day-retention=30 max-flakes-per-test=50 summary-report-path=./summary.json new-build-report-path=./new.json
```

Please note that script arguments are optional.
We set sensible defaults for you.